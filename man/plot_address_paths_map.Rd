% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/path_map.R
\name{plot_address_paths_map}
\alias{plot_address_paths_map}
\title{Visualize Address Paths on a Geographic Map}
\usage{
plot_address_paths_map(
  path_data,
  device_locations,
  min_flow = 1,
  max_steps = 10,
  map_provider = "CartoDB.Positron",
  flow_color = "steelblue",
  flow_opacity = 0.6,
  node_color = "red",
  node_size = 10,
  show_labels = TRUE,
  curve_weight = 0.5
)
}
\arguments{
\item{path_data}{A data.frame from \code{get_address_paths()} containing a 'path' column.}

\item{device_locations}{A named list where names are device IDs and values are
numeric vectors of c(latitude, longitude). Example:
\code{list("14" = c(51.507, -0.127), "18" = c(51.508, -0.128))}}

\item{min_flow}{Minimum number of addresses required for a flow to be displayed. Default is 1.}

\item{max_steps}{Maximum number of path steps to display. Paths longer than this will be truncated. Default is 10.}

\item{map_provider}{Map tile provider. Options: "OpenStreetMap", "CartoDB.Positron",
"CartoDB.DarkMatter", "Esri.WorldImagery". Default is "CartoDB.Positron".}

\item{flow_color}{Color for the flow lines. Default is "steelblue".}

\item{flow_opacity}{Opacity of flow lines (0-1). Default is 0.6.}

\item{node_color}{Color for device nodes. Default is "red".}

\item{node_size}{Size of device nodes. Default is 10.}

\item{show_labels}{Whether to show device labels. Default is TRUE.}

\item{curve_weight}{How much to curve the flow lines (0 = straight, 1 = more curved). Default is 0.5.}
}
\value{
A leaflet map object showing georeferenced address paths.
}
\description{
Creates a map-based visualization of address paths where device locations are
georeferenced and flows between devices are shown as curved lines.
This is similar to an alluvial diagram but with geographic positioning.
}
\details{
The function creates an interactive map where:
\itemize{
\item Nodes represent device locations (circles)
\item Curved lines represent address flows between devices
\item Line thickness is proportional to the number of addresses following that path
\item Clicking on nodes shows device information
\item Hovering over lines shows flow information
}

Requires the \code{leaflet} package. Install with: \code{install.packages("leaflet")}
}
\examples{
\dontrun{
# Get address paths
paths <- get_address_paths(files, top_n = 50)

# Define device locations
locations <- list(
  "14" = c(51.507, -0.127),
  "16" = c(51.508, -0.128),
  "18" = c(51.509, -0.126),
  "21" = c(51.507, -0.125)
)

# Create map
plot_address_paths_map(paths, locations)

# Customize appearance
plot_address_paths_map(paths, locations,
                      min_flow = 3,
                      flow_color = "purple",
                      map_provider = "CartoDB.DarkMatter")
}
}
